{"version":3,"file":"index.esm.mjs","sources":["../src/index.ts"],"sourcesContent":["/**\n * Created by user on 2018/6/29/029.\n */\n\n/**\n * env value to JS value, check env val is boolean or others\n */\nexport function envVal(val: undefined | 'undefined'): undefined\nexport function envVal(val: null | 'null'): null\nexport function envVal(val: boolean): boolean\nexport function envVal(val: 'no' | 'off' | 'false' | 'disabled'): false\nexport function envVal(val: 'yes' | 'on' | 'true' | 'enabled'): true\nexport function envVal(val: '1' | 1): 1\nexport function envVal(val: '0' | 0): 0\nexport function envVal(val: number): number\nexport function envVal(val: string): string | number\nexport function envVal<T>(val: T): T\nexport function envVal(val: unknown)\n{\n\tconst t = typeof val;\n\tconst s = String(val).toLowerCase().trim();\n\n\tif (t === 'boolean')\n\t{\n\t\treturn val;\n\t}\n\telse if (t === 'undefined' || s === 'undefined')\n\t{\n\t\treturn void(0);\n\t}\n\telse if (val === null || s === 'null')\n\t{\n\t\treturn null;\n\t}\n\telse if (t === 'number')\n\t{\n\t\treturn val;\n\t}\n\n\tif (t === 'string')\n\t{\n\t\tif (s === '1')\n\t\t{\n\t\t\treturn 1;\n\t\t}\n\t\telse if (s === '0')\n\t\t{\n\t\t\treturn 0;\n\t\t}\n\t\telse if (val === '')\n\t\t{\n\t\t\treturn '';\n\t\t}\n\t\telse if (s === '')\n\t\t{\n\t\t\treturn val;\n\t\t}\n\t\telse if (/^(?:yes|on|true|enabled)$/i.test(s))\n\t\t{\n\t\t\treturn true;\n\t\t}\n\t\telse if (/^(?:no|off|false|disabled)$/i.test(s))\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\tif (/^\\-?[1-9]\\d*(?:\\.\\d+)?$/i.test(s))\n\t\t{\n\t\t\tlet n = Number(s);\n\t\t\treturn Number.isNaN(n) ? val : n;\n\t\t}\n\t}\n\n\treturn val\n}\n\n/**\n * when mode2 is true\n * envBool will only return number or boolean or null\n */\nexport function envBool(val: undefined | 'undefined'): undefined\nexport function envBool(val: null | 'null'): null\nexport function envBool(val: boolean): boolean\nexport function envBool(val: 'no' | 'off' | 'false' | 'disabled'): false\nexport function envBool(val: 'yes' | 'on' | 'true' | 'enabled'): true\nexport function envBool(val: '1' | 1): 1\nexport function envBool(val: '0' | 0): 0\nexport function envBool(val: number): number\nexport function envBool<T>(val: T, mode2: true): number | boolean\nexport function envBool<T>(val: T, mode2?: boolean): T | number | boolean\nexport function envBool(val: unknown, mode2: boolean = true)\n{\n\tlet v = envVal(val);\n\n\tif (mode2)\n\t{\n\t\tlet t = typeof v;\n\n\t\treturn (\n\t\t\tt === 'number'\n\t\t\t|| t === 'boolean'\n\t\t) ? v : false;\n\t}\n\n\treturn typeof v === 'string' ? false : v;\n}\n\nexport default envBool;\n"],"names":["envVal","val","t","s","String","toLowerCase","trim","test","n","Number","isNaN","envBool","mode2","v"],"mappings":"SAiBgBA,OAAOC;AAEtB,QAAMC,CAAC,GAAG,OAAOD,GAAjB;AACA,QAAME,CAAC,GAAGC,MAAM,CAACH,GAAD,CAAN,CAAYI,WAAZ,GAA0BC,IAA1B,EAAV;;AAEA,MAAIJ,CAAC,KAAK,SAAV,EACA;AACC,WAAOD,GAAP;AACA,GAHD,MAIK,IAAIC,CAAC,KAAK,WAAN,IAAqBC,CAAC,KAAK,WAA/B,EACL;AACC,WAAO,KAAK,CAAZ;AACA,GAHI,MAIA,IAAIF,GAAG,KAAK,IAAR,IAAgBE,CAAC,KAAK,MAA1B,EACL;AACC,WAAO,IAAP;AACA,GAHI,MAIA,IAAID,CAAC,KAAK,QAAV,EACL;AACC,WAAOD,GAAP;AACA;;AAED,MAAIC,CAAC,KAAK,QAAV,EACA;AACC,QAAIC,CAAC,KAAK,GAAV,EACA;AACC,aAAO,CAAP;AACA,KAHD,MAIK,IAAIA,CAAC,KAAK,GAAV,EACL;AACC,aAAO,CAAP;AACA,KAHI,MAIA,IAAIF,GAAG,KAAK,EAAZ,EACL;AACC,aAAO,EAAP;AACA,KAHI,MAIA,IAAIE,CAAC,KAAK,EAAV,EACL;AACC,aAAOF,GAAP;AACA,KAHI,MAIA,IAAI,6BAA6BM,IAA7B,CAAkCJ,CAAlC,CAAJ,EACL;AACC,aAAO,IAAP;AACA,KAHI,MAIA,IAAI,+BAA+BI,IAA/B,CAAoCJ,CAApC,CAAJ,EACL;AACC,aAAO,KAAP;AACA;;AAED,QAAI,2BAA2BI,IAA3B,CAAgCJ,CAAhC,CAAJ,EACA;AACC,UAAIK,CAAC,GAAGC,MAAM,CAACN,CAAD,CAAd;AACA,aAAOM,MAAM,CAACC,KAAP,CAAaF,CAAb,IAAkBP,GAAlB,GAAwBO,CAA/B;AACA;AACD;;AAED,SAAOP,GAAP;AACA;SAgBeU,QAAQV,KAAcW,QAAiB;AAEtD,MAAIC,CAAC,GAAGb,MAAM,CAACC,GAAD,CAAd;;AAEA,MAAIW,KAAJ,EACA;AACC,QAAIV,CAAC,GAAG,OAAOW,CAAf;AAEA,WACCX,CAAC,KAAK,QAAN,IACGA,CAAC,KAAK,SAFH,GAGHW,CAHG,GAGC,KAHR;AAIA;;AAED,SAAO,OAAOA,CAAP,KAAa,QAAb,GAAwB,KAAxB,GAAgCA,CAAvC;AACA;;;;"}